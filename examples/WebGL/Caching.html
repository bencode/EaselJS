<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>EaselJS Example: Bitmap</title>

	<link href="../../_assets/css/shared.css" rel="stylesheet" type="text/css"/>
	<link href="../../_assets/css/examples.css" rel="stylesheet" type="text/css"/>
	<script src="../../_assets/js/examples.js"></script>

	<script src="../../lib/easeljs-NEXT.combined.js"></script>
	<!-- We also provide hosted minified versions of all CreateJS libraries.
	  http://code.createjs.com -->
	<script src="../../src/easeljs/display/StageGL.js"></script>

	<style>
		#output p{
			line-height: 1rem;
			margin-bottom: 0.25rem;
		}
	</style>

<script id="editable">
	function init() {
		// get a reference to the canvas we'll be working with:
		var canvas = document.getElementById("testCanvas");
		var canvasGL = document.getElementById("testCanvasGL");

		// create a stage object to work with the canvas. This is the top level node in the display list:
		var stage = new createjs.Stage(canvas);
		var stageGL = new createjs.StageGL(canvasGL);
		stageGL.setClearColor("#FFFFFF");

		// create the graphics object we're re-using
		var radius = 45; var stroke = 2;
		var gfx = new createjs.Graphics();
		gfx.beginFill("red").setStrokeStyle(stroke).beginStroke("black");
		gfx.drawCircle(0,-radius, radius-stroke);
		gfx.endStroke().endFill();

		var displayObject, displayObjectGL;
		// make regular objects
		displayObject = new createjs.Shape(gfx);
		stage.addChild(displayObject);
		displayObjectGL = new createjs.Shape(gfx);
		stageGL.addChild(displayObjectGL);
		displayObject.x = displayObjectGL.x = 2*radius;
		displayObject.y = displayObjectGL.y = 2.6*radius;

		// make a canvas 2D cache
		displayObject = new createjs.Shape(gfx);
		stage.addChild(displayObject);
		displayObject.cache(-radius,-2*radius, 2*radius,2*radius, 1);
		displayObjectGL = new createjs.Shape(gfx);
		stageGL.addChild(displayObjectGL);
		displayObjectGL.cache(-radius,-2*radius, 2*radius,2*radius, 1);
		displayObject.x = displayObjectGL.x = 5*radius;
		displayObject.y = displayObjectGL.y = 2.6*radius;

		// make a canvas webgl cache
		displayObject = new createjs.Shape(gfx);
		stage.addChild(displayObject);
		displayObject.cache(-radius,-2*radius, 2*radius,2*radius, 1, true);
		displayObjectGL = new createjs.Shape(gfx);
		stageGL.addChild(displayObjectGL);
		displayObjectGL.cache(-radius,-2*radius, 2*radius,2*radius, 1, true);
		displayObject.x = displayObjectGL.x = 8*radius;
		displayObject.y = displayObjectGL.y = 2.6*radius;

		// make a shared webgl cache
		displayObject = new createjs.Shape(gfx);
		stage.addChild(displayObject);
		displayObject.cache(-radius,-2*radius, 2*radius,2*radius, 1, stageGL);
		displayObjectGL = new createjs.Shape(gfx);
		stageGL.addChild(displayObjectGL);
		displayObjectGL.cache(-radius,-2*radius, 2*radius,2*radius, 1, stageGL);
		displayObject.x = displayObjectGL.x = 11*radius;
		displayObject.y = displayObjectGL.y = 2.6*radius;

		// render the screens
		stage.update();
		stageGL.update();
	}
</script>
</head>

<body onload="init();">

<header class="EaselJS">
	<h1>Caching comparison!</h1>

	<p>Hello World example using <code>Bitmap</code> and <code>StageGL</code>.</p>
</header>

<div id="output">
	<p>Context2D Canvas</p>
	<canvas id="testCanvas" width="960" height="168" style="background-color: white"></canvas>
	<p>WebGL Canvas</p>
	<canvas id="testCanvasGL" width="960" height="168"></canvas>
</div>
</body>
</html>
